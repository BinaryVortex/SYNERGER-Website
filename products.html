<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy products</title>
    <!--Linking the CSS files-->
    <link rel="stylesheet" href="products.css">
    <link rel="stylesheet" href="navbar.css">
    <link rel="stylesheet" href="footer.css">
    <script src="https://kit.fontawesome.com/3c3e489cf2.js" crossorigin="anonymous"></script>
    <script src="navbar.js"></script>  <!--connecting the java Script-->
</head>
<body>
     <!-- Adding the navigation bar -->
     <header>
        <a href="" class="logo">Synerger</a>
        <nav class="navbar">
            <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="AboutUs.html">About</a></li>
            <li><a href="gallery.html">Gallery</a></li>
            <li><a href="sitemap.html">SiteMap</a></li>
            <li><a href="products.html">Shop</a></li>
            <li><a href="feedback.html">Feedback</a></li>
            <li><a href="User_Profile.html">User Profile</a></li>            
            </ul>
        </nav>
    </header>

    <!-- Crating the products page -->
    <div class="header">
        <p><h1>Our products</h1></p><!--header of the products page-->
    </div>
    <div class="container">
        <div id="root">
            <!-- product 1 -->
            <div class="products">
                <div class="img-box">
                    <img class="images" src="images_Stu1/Pannel.jpeg" alt="products 1">
                </div>
                <h2>Solar Panel</h2>
                <p>A Beautiful Energy Efficient Solar Panel System For Your Home.</p>
                <p class="products-p">Price: $<span id="price1">40.00</span></p>
                <label for="quantity1">Quantity:</label>
                <input type="number" id="quantity1" name="quantity1" value="1" min="1">
                <button class="btn add-to-cart">Add to Cart</button>
            </div>
            <!-- Repeat similar structure for other products -->
            <!-- product 2 -->
            <div class="products">
                <div class="img-box">
                    <img class="images" src="images_Stu1/SolarHeater.jpeg" alt="product 2">
                </div>
                <h2>Solar Water Heater</h2>
                <p>An Energy Efficient Solar Water Heater For Your Home.</p>
                <p class="products-p">Price: $<span id="price2">20.00</span></p>
                <label for="quantity2">Quantity:</label>
                <input type="number" id="quantity2" name="quantity2" value="1" min="1">
                <button class="btn add-to-cart">Add to Cart</button>
            </div>
            <!-- product 3 -->
            <div class="products">
                <div class="img-box">
                    <img class="images" src="images_Stu1/SolarBulb.jpeg" alt="product 3">
                </div>
                <h2>Solar LED Bulb</h2>
                <p>An Energy Efficient LED Light Bulb For Your Needs.</p>
                <p class="products-p">Price: $<span id="price3">30.00</span></p>
                <label for="quantity3">Quantity:</label>
                <input type="number" id="quantity3" name="quantity3" value="1" min="1">
                <button class="btn add-to-cart">Add to Cart</button>
            </div>
            <!-- product 4 -->
            <div class="products">
                <div class="img-box">
                    <img class="images" src="images_Stu1/SolarBulb2.jpeg" alt="product 4">
                </div>
                <h2>Solar LED Bulb - High Voltage</h2>
                <p>LED Light Bulb For You.</p>
                <p class="products-p">Price: $<span id="price4">40.00</span></p>
                <label for="quantity4">Quantity:</label>
                <input type="number" id="quantity4" name="quantity4" value="1" min="1">
                <button class="btn add-to-cart">Add to Cart</button>
            </div>
            <!-- product 5 -->
            <div class="products">
                <div class="img-box">
                    <img class="images" src="images_Stu1/powerwall.jpg" alt="product 5">
                </div>
                <h2>SYNERGER PowerWall</h2>
                <p>An Amazing Home Energy Storage System From SYNERGER</p>
                <p class="products-p">Price: $<span id="price5">50.00</span></p>
                <label for="quantity5">Quantity:</label>
                <input type="number" id="quantity5" name="quantity5" value="1" min="1">
                <button class="btn add-to-cart">Add to Cart</button>
            </div>
            <!-- product 6 -->
            <div class="products">
                <div class="img-box">
                    <img class="images" src="images_Stu1/powerpackjpg.jpg" alt="product 6">
                </div>
                <h2>SYNERGER PowerPack</h2>
                <p>An Amazing,Sleak Energy Storage System FromSYNERGER</p>
                <p class="products-p">Price: $<span id="price6">60.00</span></p>
                <label for="quantity6">Quantity:</label>
                <input type="number" id="quantity6" name="quantity6" value="1" min="1">
                <button class="btn add-to-cart">Add to Cart</button>
            </div>
            <!-- product 7 -->
            <div class="products">
                <div class="img-box">
                    <img class="images" src="images_Stu1/shirt.jpg" alt="product 7">
                </div>
                <h2>SYNERGER Shirt</h2>
                <p>A Cool Modern Sleak Version Of A Shirt From SYNERGER.</p>
                <p class="products-p">Price: $<span id="price7">70.00</span></p>
                <label for="quantity7">Quantity:</label>
                <input type="number" id="quantity7" name="quantity7" value="1" min="1">
                <button class="btn add-to-cart">Add to Cart</button>
            </div>
            <!-- product 8 -->
            <div class="products">
                <div class="img-box">
                    <img class="images" src="images_Stu1/cap.jpg" alt="product 8">
                </div>
                <h2>SYNERGER Cap</h2>
                <p>An Amazing, Cool Sleak Design Cap From SYNERGER.</p>
                <p class="products-p">Price: $<span id="price8">80.00</span></p>
                <label for="quantity8">Quantity:</label>
                <input type="number" id="quantity8" name="quantity8" value="1" min="1">
                <button class="btn add-to-cart">Add to Cart</button>
            </div>
        </div>
        <!-- Creating the cart as a sidebar -->
        <div class="sidebar">
            <div class="head">Cart
                <!-- putting the image cart and the count -->
                <div class="cart"><i class="shoppingCart" style="padding-right: 10px;"></i><p id="count" style=" margin-bottom: 9px;"> 0</p></div>
            </div>
            <div id="cartitem">Your Cart is Empty</div>
            <div class="foot">
                <!-- mcreating the total equals to 0 -->
                <h3>Total</h3>
                <h2 id="total">$ 0.00</h2>
            </div>  
            <form id="form">
                 <!-- button to empty the cart -->
                 <input class="empty-btn" type="submit" id="empty-cart-btn" name="emptyCart" value="Empty cart">  
                <!-- button to proceed to checkout page -->
                <input class="btn" type="submit" id="submit" name="placeOrder" value="Proceed To checkout" onclick="return check()">  
            </form>
            <div class="data">
                <ul>
                    <!-- conditions of the carts -->
                    <li>Your product will be delivered to you within 2 - 3 working days.</li>
                    <br><li>We Accept Card Payment Only.</li>
                    <br><li>You will be receiving a confirmation call from us once the order is received.</li>
                </ul>
            </div>            
        </div>
    </div>
    <!-- connecting the JavaScript of the products page -->
    <script>
        // Function to handle adding a product to the cart
        function addToCart(productsName, price, quantity) {
            // Update cart count
            var count = document.getElementById("count");
            var currentCount = parseInt(count.textContent);
            count.textContent = currentCount + parseInt(quantity);

            // Update total price
            var totalPrice = document.getElementById("total");
            var currentTotal = parseFloat(totalPrice.textContent.split(' ')[1]); // Remove currency symbol
            currentTotal += price * quantity;
            totalPrice.textContent = "LKR " + currentTotal.toFixed(2);

            // Add item to cart
            var cartItem = document.getElementById("cartitem");
            cartItem.textContent = "Items in Cart: " + productsName + " x" + quantity;
        }
        // Function to handle emptying the cart
           function emptyCart() { 
             // Reset cart count
              var count = document.getElementById("count");
               count.textContent = 0;
           
            // Reset total price
             var totalPrice = document.getElementById("total");
             totalPrice.textContent = "$ 0.00";

           // Reset cart item display
           var cartItem = document.getElementById("cartitem");
           cartItem.textContent = "Your Cart is Empty";
}

// Event listener for the "Empty cart" button
document.getElementById("empty-cart-btn").addEventListener("click", function(event) {
    event.preventDefault(); // Prevent the form from submitting
    emptyCart();
});


        // Function to handle when "Add to Cart" button is clicked
        document.querySelectorAll('.btn').forEach(item => {
            item.addEventListener('click', event => {
                var parent = event.target.parentElement;
                var productsName = parent.querySelector('h2').textContent;
                var price = parseFloat(parent.querySelector('span').textContent);
                var quantity = parseInt(parent.querySelector('input[type="number"]').value);
                addToCart(productsName, price, quantity);
            });
        });

        // Function to handle redirection to checkout page
document.getElementById("submit").addEventListener("click", function(event) {
    event.preventDefault(); // Prevent the form from submitting
    redirectToCheckout();
});

// Function to redirect to checkout page or display an alert if cart is empty
function redirectToCheckout() {
    var cartCount = parseInt(document.getElementById("count").textContent);
    
    if (cartCount > 0) {
        window.location.href = "checkout.html";
    } else {
        alert("Please add items to the cart before proceeding to checkout.");
    }
}
    </script>

    <!-- connecting the footer to the page -->
    <footer>
        <div class="footer-content">
            <!-- linking the page editor page -->
          <a href="pageEditor_Stu1.html" class="pageEditorName">Page Editor | Disandu Perera</a>
            <ul class="footer-links">
                <li><a href="home.html">Home</a></li>
                <li><a href="aboutUs.html">About</a></li>
                <li><a href="sitemap.html">Site Map</a></li>
                <li><a href="gallery.html">Gallery</a></li>
            </ul>
          <p class="copyright">&copy; SYNERGER. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>
